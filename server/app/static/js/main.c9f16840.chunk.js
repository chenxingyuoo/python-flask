(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{168:function(e,t,a){e.exports=a(357)},173:function(e,t,a){},177:function(e,t,a){},241:function(e,t,a){},302:function(e,t,a){},357:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(7),l=a.n(o),s=(a(173),a(175),a(39)),c=a(40),i=a(43),u=a(41),m=a(44),d=(a(177),a(365)),p=a(366),f=a(358),h=a(360),g=a(362),E=a(9),y=a(78),b=a(152),v=a.n(b),j=(a(197),a(363)),w=v.a.create({timeout:1e4});w.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),w.interceptors.response.use(function(e){if(e.status>=200&&e.status<=300){if(200===e.data.code)return e.data;if(500===e.data.code)return j.a.warning(e.data.message),Promise.reject(e);if(1e3===e.data.code)return window.location.hash="#/login",Promise.reject(e)}},function(e){return e.response&&e.response.status>=400&&j.a.error("\u7f51\u7edc\u53d1\u751f\u9519\u8bef"),Promise.reject(e)}),w.get=function(e){return w({url:e.url,method:"GET",params:e.data})},w.post=function(e){return w({url:e.url,method:"POST",data:e.data,headers:{"Content-Type":"application/json;charset=UTF-8"}})};var k=w,O=(a(241),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){console.log("this.props",a.props),e.preventDefault(),a.props.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),k.post({url:"/api/user/login",data:t}).then(function(e){a.props.history.push("/user/list")}))})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(h.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(h.a.Item,null,e("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(g.a,{prefix:r.a.createElement(E.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(h.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(g.a,{prefix:r.a.createElement(E.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(h.a.Item,null,r.a.createElement(y.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"),r.a.createElement("div",null,r.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password"),"Or ",r.a.createElement("a",{href:""},"register now!"))))}}]),t}(r.a.Component)),C=h.a.create()(O),x=a(361),P=a(359),S=a(364),I=a(356),N=a(367),T=(a(302),S.a.Header),L=S.a.Sider,A=S.a.Content,D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1},a.toggle=function(){a.setState({collapsed:!a.state.collapsed})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(S.a,{id:"layout-custom-trigger"},r.a.createElement(L,{trigger:null,collapsible:!0,collapsed:this.state.collapsed},r.a.createElement("div",{className:"logo"}),r.a.createElement(I.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},r.a.createElement(I.a.Item,{key:"1"},r.a.createElement(N.a,{to:"#/login"},r.a.createElement(E.a,{type:"user"}),r.a.createElement("span",null,"nav 1"))),r.a.createElement(I.a.Item,{key:"2"},r.a.createElement(E.a,{type:"video-camera"}),r.a.createElement("span",null,"nav 2")),r.a.createElement(I.a.Item,{key:"3"},r.a.createElement(E.a,{type:"upload"}),r.a.createElement("span",null,"nav 3")))),r.a.createElement(S.a,null,r.a.createElement(T,{style:{background:"#fff",padding:0}},r.a.createElement(E.a,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle})),r.a.createElement(A,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280}},this.props.children)))}}]),t}(r.a.Component),F=x.a.confirm,U=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={params:{currentPage:1,pageSize:5},data:{list:[]}},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getList()}},{key:"render",value:function(){var e=this,t=[{title:"Name",dataIndex:"username"},{title:"Password",dataIndex:"password"},{title:"Action",dataIndex:"action",render:function(t,a,n){return r.a.createElement("span",null,r.a.createElement("a",{onClick:e.deleteUser.bind(e,a,n)},"\u5220\u9664"))}}];return r.a.createElement(D,null,r.a.createElement("div",{className:"App"},r.a.createElement(P.a,{dataSource:this.state.data.list,columns:t,pagination:{total:this.state.data.total,onChange:this.pageChange.bind(this)}})))}},{key:"getList",value:function(){var e=this;k.get({url:"/api/user/list",data:this.state.params}).then(function(t){e.setState({data:t.data})})}},{key:"pageChange",value:function(e){this.state.params.currentPage=e,this.setState({params:this.state.params}),this.getList()}},{key:"deleteUser",value:function(e,t){var a=this;F({title:"Do you Want to delete these items?",content:"",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){k.post({url:"/api/user/delete",data:{id:e._id}}).then(function(e){j.a.success("\u5220\u9664\u6210\u529f"),a.getList()})},onCancel:function(){console.log("Cancel")}})}}]),t}(n.Component),q=function(){return r.a.createElement(d.a,null,r.a.createElement(p.a,null,r.a.createElement(f.a,{exact:!0,path:"/login",component:C}),r.a.createElement(f.a,{exact:!0,path:"/user/list",component:U})))},W=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(q,null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[168,2,1]]]);
//# sourceMappingURL=main.c9f16840.chunk.js.map